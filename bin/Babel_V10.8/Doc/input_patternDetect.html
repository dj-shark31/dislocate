<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
		Program patternDetect
	</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<div style="text-align:right"><font size="2">
						Back to 
						<a href="./index.html">main page</a>,
						<a href="./input_babel.html">babel</a>,
						<a href="./input_displacement.html">displacement</a>,
						<a href="./input_patternInit.html">patternInit</a>,
						<a href="./input_patternDetect.html">patternDetect</a>,
						<a href="./input_prepareDrag.html">prepareDrag</a>,
						<a href="./structures.html">structures</a></font></div>
<h1 id="headTitle">
		Program patternDetect
	</h1>
<div style="white-space: pre-line;"> 
		This program finds the different crystallographic patterns
		in a reference structure file and writes them in an output file. 
		This output file can then be used with the program displacement
		to define the reference crystallographic patterns, 
		so as to extract the elastic strain, the Nye tensor,
		or the dislocation densities from a strained structure.

		A crystallographic pattern corresponds to the number of neighbours 
		of an atom (inside a sphere defined by a cutoff radius)
		and to the positions of these neighbours.
		Perfect BCC and FCC structures have only one pattern,
		whereas perfect HCP structure has two patterns.

		Execution:
		=========
		patternDetect input.dat
		where input.dat is the input file
		If input.dat="-", the input is read from current unit (keyboard or piped other command like echo)


		Structure of the input file:
		===========================

		The input file contains only the namelist input

		&amp;input
		  ...
		//
	</div>
<h2 id="input">
			Namelist  input <a href="#headTitle">↑</a>
</h2>
<i>Variables: </i><a href="#refFile">refFile</a>,
		<a href="#refXyz,%20refCfg,%20refGin,%20refSiesta,%20refNDM,%20refLammps,%20refPoscar">refXyz, refCfg, refGin, refSiesta, refNDM, refLammps, refPoscar</a>,
		<a href="#imm">imm</a>,
		<a href="#duplicate">duplicate</a>,
		<a href="#lat">lat</a>,
		<a href="#rotate">rotate</a>,
		<a href="#rot">rot</a>,
		<a href="#translate">translate</a>,
		<a href="#uTranslate">uTranslate</a>,
		<a href="#clipAtom">clipAtom</a>,
		<a href="#alat">alat</a>,
		<a href="#patternFile">patternFile</a>,
		<a href="#rNeigh">rNeigh</a>,
		<a href="#max_nNeigh">max_nNeigh</a>,
		<a href="#outFile">outFile</a>,
		<a href="#outXyz,%20outCfg,%20outOnlyAtoms,%20outLammps">outXyz, outCfg, outOnlyAtoms, outLammps</a>,
		<a href="#out_neighbours">out_neighbours</a>,
		<a href="#out_pattern">out_pattern</a>,
		<a href="#verbosity">verbosity</a>,
		<a href="#debug">debug</a>,
		<div style="white-space: pre-line;"></div>
<ul>
<b id="refFile">	refFile </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  character string , 
			<i>default</i>:  '-' ,
			<i>mandatory</i>:  yes )
			<div style="white-space: pre-line;">
				Name of the structure file used as a reference.
				If refFile='-', the structure is read from keyboard.
				The file format is defined by refXyz | refCfg | refGin | refSiesta | refNDM | refLammps | refPoscar
			</div>
</ul>
<br><br><b id="refXyz, refCfg, refGin, refSiesta, refNDM, refLammps, refPoscar">	refXyz, refCfg, refGin, refSiesta, refNDM, refLammps, refPoscar  </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  logical , 
			<i>default</i>:  .false. ,
			<i>mandatory</i>:  one should be set to .true. )
			<div style="white-space: pre-line;">
				If refXyz=.true. the reference structure file 
				is given in xyz format.
			</div>
<br><i>See also: </i><a href="./structures.html">Structure file formats</a>
</ul>
<br><br><b id="imm">	imm </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  integer , 
			<i>default</i>:  0 ,
			<i>mandatory</i>:  no )
			<div style="white-space: pre-line;">
				Maximal number of atom in the structure.
				imm needs to be defined if the input structure is duplicated 
				to dimension the arrays. 
				Otherwise, the actual number of atoms, read from input structure file, is used.
			</div>
<br><i>See also: </i><a href="#duplicate">duplicate</a>
</ul>
<br><br><b id="duplicate"> duplicate </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  logical , 
			<i>default</i>:  .false. ,
			<i>mandatory</i>:  no )
			<div style="white-space: pre-line;">
				If duplicate=.true., the crystal is duplicated.
				lat(1:3) is the number of times the crystal should be duplicated
				in each direction given by the vectors at(1:3,i) read in the structure file.
				If lat(i) is negative, then the opposite of the vector at(1:3,i) is used.
				The maximal number of atoms in the duplicated structure needs to be set with imm
				and the periodicity vectors have to be defined.

				When the structure is also rotated, the duplication is done first and then the rotation.
				The periodicity vectors used for duplication are thus those before rotation.

				For small simulation boxes, it may be necessary to duplicate the structure 
				to find all neighbours of the atoms.
			</div>
<br><i>See also: </i><a href="#imm">imm</a>
				,
				<a href="#lat">lat</a>
</ul>
<br><br><b id="lat">	lat </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  integer, dim(3) , 
			<i>default</i>:  1 ,
			<i>mandatory</i>:  no  )
			<div style="white-space: pre-line;">
				Number of replicas in each direction when duplicating the input structure file.
			</div>
<br><i>See also: </i><a href="#duplicate">duplicate</a>
</ul>
<br><br><b id="rotate"> rotate </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  logical , 
			<i>default</i>:  .false. ,
			<i>mandatory</i>:  no )
			<div style="white-space: pre-line;">
				If rotate=.true., the crystal is rotated using rotation matrix defined in rot(1:3,1:3)
			</div>
<br><i>See also: </i><a href="#rot">rot</a>
</ul>
<br><br><b id="rot"> rot </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  real, dim(3,3) , 
			<i>default</i>:  identity matrix ,
			<i>mandatory</i>:  no )
			<div style="white-space: pre-line;">
				Rotation matrix used when rotate=.true.
			</div>
<br><i>See also: </i><a href="#rotate">rotate</a>
</ul>
<br><br><b id="translate"> translate </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  logical , 
			<i>default</i>:  .false. ,
			<i>mandatory</i>:  no )
			<div style="white-space: pre-line;">
				If translate=.true., the crystal is translated with the vector uTranslate(1:3)
			</div>
<br><i>See also: </i><a href="#uTranslate">uTranslate</a>
</ul>
<br><br><b id="uTranslate"> uTranslate </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  real, dim(3) , 
			<i>default</i>:  0. ,
			<i>mandatory</i>:  no )
			<div style="white-space: pre-line;">
				Translation vector used when translate=.true.
				If alat is defined, uTranslate(1:3) is multiplied by alat.
			</div>
<br><i>See also: </i><a href="#translate">translate</a>
				,
				<a href="#alat">alat</a>
</ul>
<br><br><b id="clipAtom"> clipAtom </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  logical , 
			<i>default</i>:  .false. ,
			<i>mandatory</i>:  no )
			<div style="white-space: pre-line;">
				If clipAtom=.true., periodic boundary conditions are applied
			       	to atom coordinates to bring them back in the primitive unit cell.
				The periodicity vectors have to be defined.
			</div>
</ul>
<br><br><b id="alat"> alat </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  real , 
			<i>default</i>:  1. ,
			<i>mandatory</i>:  no )
			<div style="white-space: pre-line;">
				Length used to scale all distances in the present input file.
				For program patternDetect, it only affects the quantities rNeigh and uTranslate(1:3).
			</div>
</ul>
<br><br><b id="patternFile"> patternFile </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  character string , 
			<i>default</i>:  empty ,
			<i>mandatory</i>:  no )
			<div style="white-space: pre-line;">
				If it is defined, the patterns found in the reference structure file
			       are saved in the file whose name is given by patternFile.
			       This file can then be read by program displacement.
			</div>
</ul>
<br><br><b id="rNeigh"> rNeigh </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  real , 
			<i>default</i>:  -1. ,
			<i>mandatory</i>:  yes )
			<div style="white-space: pre-line;">
				Distance cutoff defining the sphere where atom neighbours have to be looked for.
				If alat is defined, rNeigh is multiplied by alat.

			</div>
<br><i>See also: </i><a href="#alat">alat</a>
</ul>
<br><br><b id="max_nNeigh"> max_nNeigh </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  integer , 
			<i>default</i>:  16 ,
			<i>mandatory</i>:  no )
			<div style="white-space: pre-line;">
				Maximal number of neighbours allowed for each atom.
			</div>
</ul>
<br><br><b id="outFile"> outFile </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  character string , 
			<i>default</i>:  '-' ,
			<i>mandatory</i>:  no )
			<div style="white-space: pre-line;">
				The reference structure can be saved back in file defined by outFile
				which auxiliary properties set for each atom (number of neighbours,
				atom pattern, ...)
				If outFile="-", the output file is printed on screen.
				The file format is defined by outXyz | outCfg  | outOnlyAtoms
			</div>
</ul>
<br><br><b id="outXyz, outCfg, outOnlyAtoms, outLammps"> outXyz, outCfg, outOnlyAtoms, outLammps </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  logical , 
			<i>default</i>:  .false. ,
			<i>mandatory</i>:  no )
			<div style="white-space: pre-line;">
				Format of the structure file used for output.
				If all variables are set to .false. (default), the output structure
				is not written.
			</div>
<br><i>See also: </i><a href="#outFile">outFile</a>
</ul>
<br><br><b id="out_neighbours"> out_neighbours </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  logical , 
			<i>default</i>:  .false. ,
			<i>mandatory</i>:  no )
			<div style="white-space: pre-line;">
				If out_neighbours=.true., the number of neighbours 
				is saved in output structure file for each atom.
			</div>
<br><i>See also: </i><a href="#outFile">outFile</a>
</ul>
<br><br><b id="out_pattern"> out_pattern </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  logical , 
			<i>default</i>:  .false. ,
			<i>mandatory</i>:  no )
			<div style="white-space: pre-line;">
				If out_pattern=.true., the output pattern 
				is saved in output structure file for each atom.
			</div>
<br><i>See also: </i><a href="#outFile">outFile</a>
</ul>
<br><br><b id="verbosity"> verbosity </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  integer , 
			<i>default</i>:  4 ,
			<i>mandatory</i>:  no )
			<div style="white-space: pre-line;">
				Integer values defining amount of information on output unit.
				verbosity=0: no output
				verbosity=4: normal output
				verbosity&gt;=10: debugging
			</div>
</ul>
<br><br><b id="debug"> debug </b><a href="#input">
			↑
		</a><br><ul>
			(<i>type</i>:  logical , 
			<i>default</i>:  .false ,
			<i>mandatory</i>:  no )
			<div style="white-space: pre-line;">
				For debug purpose.
			</div>
</ul>
<br><br>
</ul>
<div style="text-align:right"><font size="2">
						Back to 
						<a href="./index.html">main page</a>,
						<a href="./input_babel.html">babel</a>,
						<a href="./input_displacement.html">displacement</a>,
						<a href="./input_patternDetect.html">patternDetect</a>,
						<a href="./input_prepareDrag.html">prepareDrag</a>,
						<a href="./structures.html">structures</a></font></div>
</BODY>
</HTML>
