<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="input_xx.xsl" type="text/xsl"?>
<manual>
	<title>
		Program patternInit
	</title>
	<intro> 
		This program initializes the pattern file with pre-defined patterns
	        corresponding to the hcp, bcc, and fcc structure.	
		This pattern file can then be with the program 
		<a href="input_displacement.xml">displacement</a>
		to define the reference crystallographic patterns, 
		so as to extract the elastic strain, the Nye tensor,
		or the dislocation densities from a strained structure.

		A crystallographic pattern corresponds to the number of neighbours 
		of an atom (inside a sphere defined by a cutoff radius)
		and to the positions of these neighbours.
		Perfect BCC and FCC structures have only one pattern,
		whereas perfect HCP structure has two patterns.
		Patterns corresponding to common stacking faults can also be defined.

		Execution:
		=========
		patternInput input.dat
		where input.dat is the input file
		If input.dat="-", the input is read from current unit (keyboard or piped other command like echo)


		Structure of the input file:
		===========================

		The input file contains only the namelist input

		&amp;input
		  ...
		//
	</intro>
	<namelist name="input">
		<name> input </name>
		<var name="crystal">
			<name> crystal </name>
			<type> string </type>
			<default> "" </default>
			<mandatory> yes </mandatory>
			<info>
				Defines crystal type to look for corresponding patterns

				crystal='hcp'
					hcp crystal lattice with x // [1-210] ,  y // [10-10] ,  z // [0001]

				crystal='fcc'
					not implemented yet

				crystal='bcc'
					bcc crystal lattice with x // [-1-12] ,  y // [1-10] ,  z // [111]
			</info>
			<see_also> <ilink> alat </ilink> </see_also>
			<see_also> <ilink> coa </ilink> </see_also>
		</var>
		<var name="alat">
			<name> alat </name>
			<type> real </type>
			<default> 1. </default>
			<mandatory> no </mandatory>
			<info>
				Length used to scale all distances in pattern definition.
			</info>
			<see_also> <ilink> crystal </ilink> </see_also>
			<see_also> <ilink> coa </ilink> </see_also>
		</var>
		<var name="coa">
			<name> coa </name>
			<type> real </type>
			<default> 1.63299316185545206546 </default>
			<mandatory> no </mandatory>
			<info>
				c/a ratio in the case of an HCP lattice.
			</info>
			<see_also> <ilink> crystal </ilink> </see_also>
			<see_also> <ilink> alat </ilink> </see_also>
		</var>
		<var name="addHcpBasalFault">
			<name> addHcpBasalFault </name>
			<type> logical </type>
			<default> .false. </default>
			<mandatory> no </mandatory>
			<info>
				When crystal='hcp', add the 2 patterns defining basal stacking faults,
				i.e. fcc ABC and ACB stacking.
			</info>
			<see_also> <ilink> crystal </ilink> </see_also>
		</var>
		<var name="addHcpPy1Fault">
			<name> addHcpPy1Fault </name>
			<type> logical </type>
			<default> .false. </default>
			<mandatory> no </mandatory>
			<info>
				When crystal='hcp', add the 4 patterns defining stacking faults 
				in first order pyramidal planes.
				Only two stacking faults are defined, with fault plane (10-11) or (-1011)
				and fault vector 1/6 [1-210] (plus a small orthogonal component)
			</info>
			<see_also> <ilink> crystal </ilink> </see_also>
		</var>
		<var name="addHcpPrismFault">
			<name> addHcpPrismFault </name>
			<type> logical </type>
			<default> .false. </default>
			<mandatory> no </mandatory>
			<info>
				When crystal='hcp', add the 2 patterns defining prismatic stacking faults.
				Only one prismatic fault is defined, with fault plane (10-10)
				and fault vector 1/6 [1-210]
			</info>
			<see_also> <ilink> crystal </ilink> </see_also>
		</var>
		<var name="addHcpPy1Twin">
			<name> addHcpPy1Twin </name>
			<type> logical </type>
			<default> .false. </default>
			<mandatory> no </mandatory>
			<info>
				When crystal='hcp', add the 24 patterns corresponding to the twinned crystal 
				for the 12 different 1st order pyramidal twin planes.
			</info>
			<see_also> <ilink> crystal </ilink> </see_also>
		</var>
		<var name="addHcpPy1TB">
			<name> addHcpPy1TB </name>
			<type> logical </type>
			<default> .false. </default>
			<mandatory> no </mandatory>
			<info>
				When crystal='hcp', add the 24 patterns corresponding to the twin boundary
				for the 12 different 1st order pyramidal twin planes.

				There are 4 different patterns for each twin boundary, but the twinned crystals
				related by a mirror symmetry in the basal plane have the same patterns.
			</info>
			<see_also> <ilink> crystal </ilink> </see_also>
		</var>
		<var name="rotate">
			<name> rotate </name>
			<type> logical </type>
			<default> .false. </default>
			<mandatory> no </mandatory>
			<info>
				If rotate=.true., the patterns are rotated using rotation matrix defined in rot(1:3,1:3)
			</info>
			<see_also> <ilink> rot </ilink> </see_also>
		</var>
		<var name="rot">
			<name> rot </name>
			<type> real, dim(3,3) </type>
			<default> identity matrix </default>
			<mandatory> no </mandatory>
			<info>
				Rotation matrix used when rotate=.true.
			</info>
			<see_also> <ilink> rotate </ilink> </see_also>
		</var>
		<var name="patternFile">
			<name> patternFile </name>
			<type> character string </type>
			<default> empty </default>
			<mandatory> no </mandatory>
			<info>
				If it is defined, the patterns are saved in the file whose name is given by patternFile.
			       This file can then be read by program displacement.
			</info>
		</var>
		<var name="verbosity">
			<name> verbosity </name>
			<type> integer </type>
			<default> 4 </default>
			<mandatory> no </mandatory>
			<info>
				Integer values defining amount of information on output unit.
				verbosity=0: no output
				verbosity=4: normal output
				verbosity>=10: debugging
			</info>
		</var>
		<var name="debug">
			<name> debug </name>
			<type> logical </type>
			<default> .false </default>
			<mandatory> no </mandatory>
			<info>
				For debug purpose.
			</info>
		</var>

		<!--[>Template for variable definition<]-->
		<!--<var name="">-->
			<!--<name>  </name>-->
			<!--<type>  </type>-->
			<!--<default>  </default>-->
			<!--<mandatory>  </mandatory>-->
			<!--<info>-->
			<!--</info>-->
			<!--<see_also> <ilink>  </ilink> </see_also>-->
		<!--</var>-->
	</namelist> 
</manual>
